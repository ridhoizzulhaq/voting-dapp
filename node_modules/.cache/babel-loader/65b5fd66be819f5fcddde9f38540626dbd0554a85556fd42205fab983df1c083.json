{"ast":null,"code":"var _jsxFileName = \"/Users/ridhoizzulhaq/voting-dapp/src/App.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3'; // Import Web3.js\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor() {\n    super();\n    this.voteForOption1 = async () => {\n      await this.contract.methods.voteForOption1().send({\n        from: this.state.account\n      });\n      this.setState({\n        hasVoted: true\n      });\n    };\n    this.voteForOption2 = async () => {\n      await this.contract.methods.voteForOption2().send({\n        from: this.state.account\n      });\n      this.setState({\n        hasVoted: true\n      });\n    };\n    this.state = {\n      account: '',\n      option1Votes: 0,\n      option2Votes: 0,\n      hasVoted: false\n    };\n    this.web3 = null;\n    this.contract = null;\n  }\n  async componentDidMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n  async loadWeb3() {\n    if (window.ethereum) {\n      this.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      this.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      console.log('Non-Ethereum browser detected.');\n    }\n  }\n  async loadBlockchainData() {\n    // Load the user's Ethereum account\n    const accounts = await this.web3.eth.getAccounts();\n    this.setState({\n      account: accounts[0]\n    });\n\n    // Load the smart contract\n    const contractAddress = 'YOUR_CONTRACT_ADDRESS'; // Replace with your contract address\n    const contractAbi = []; // Replace with your contract ABI\n    this.contract = new this.web3.eth.Contract(contractAbi, contractAddress);\n\n    // Fetch data from the contract\n    const option1Votes = await this.contract.methods.option1Votes().call();\n    const option2Votes = await this.contract.methods.option2Votes().call();\n    const hasVoted = await this.contract.methods.voters(this.state.account).call();\n    this.setState({\n      option1Votes,\n      option2Votes,\n      hasVoted\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Simple Voting dApp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your Ethereum account: \", this.state.account]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Option 1 Votes: \", this.state.option1Votes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Option 2 Votes: \", this.state.option2Votes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), this.state.hasVoted ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You have already voted.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.voteForOption1,\n          children: \"Vote for Option 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.voteForOption2,\n          children: \"Vote for Option 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Web3","jsxDEV","_jsxDEV","App","constructor","voteForOption1","contract","methods","send","from","state","account","setState","hasVoted","voteForOption2","option1Votes","option2Votes","web3","componentDidMount","loadWeb3","loadBlockchainData","window","ethereum","enable","currentProvider","console","log","accounts","eth","getAccounts","contractAddress","contractAbi","Contract","call","voters","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/Users/ridhoizzulhaq/voting-dapp/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Web3 from 'web3'; // Import Web3.js\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      account: '',\n      option1Votes: 0,\n      option2Votes: 0,\n      hasVoted: false,\n    };\n\n    this.web3 = null;\n    this.contract = null;\n  }\n\n  async componentDidMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      this.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      this.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      console.log('Non-Ethereum browser detected.');\n    }\n  }\n\n  async loadBlockchainData() {\n    // Load the user's Ethereum account\n    const accounts = await this.web3.eth.getAccounts();\n    this.setState({ account: accounts[0] });\n\n    // Load the smart contract\n    const contractAddress = 'YOUR_CONTRACT_ADDRESS'; // Replace with your contract address\n    const contractAbi = [] // Replace with your contract ABI\n    this.contract = new this.web3.eth.Contract(contractAbi, contractAddress);\n\n    // Fetch data from the contract\n    const option1Votes = await this.contract.methods.option1Votes().call();\n    const option2Votes = await this.contract.methods.option2Votes().call();\n    const hasVoted = await this.contract.methods.voters(this.state.account).call();\n\n    this.setState({ option1Votes, option2Votes, hasVoted });\n  }\n\n  voteForOption1 = async () => {\n    await this.contract.methods.voteForOption1().send({ from: this.state.account });\n    this.setState({ hasVoted: true });\n  }\n\n  voteForOption2 = async () => {\n    await this.contract.methods.voteForOption2().send({ from: this.state.account });\n    this.setState({ hasVoted: true });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Simple Voting dApp</h1>\n        <p>Your Ethereum account: {this.state.account}</p>\n        <p>Option 1 Votes: {this.state.option1Votes}</p>\n        <p>Option 2 Votes: {this.state.option2Votes}</p>\n        {this.state.hasVoted ? (\n          <p>You have already voted.</p>\n        ) : (\n          <div>\n            <button onClick={this.voteForOption1}>Vote for Option 1</button>\n            <button onClick={this.voteForOption2}>Vote for Option 2</button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}